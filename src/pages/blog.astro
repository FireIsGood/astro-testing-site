---
import Layout from "../layouts/Layout.astro";

let title = "Blog";

// Use Astro.glob() to fetch all posts
const posts = await Astro.glob("./blog/*.astro");
---

<Layout title={title}>
  <main>
    <h2>Posts</h2>
    <ul>
      {
        posts.map((post) => (
          <li>
            <a href={post.url}>{post.url?.split("/")[3]}</a>
          </li>
        ))
      }
    </ul>
  </main>
</Layout>

<style lang="scss">
  main {
    max-width: var(--max-width);
    margin-inline: auto;
    padding: 1rem;
  }
  ul {
    list-style: none;
    padding-left: 0;
  }
</style>
